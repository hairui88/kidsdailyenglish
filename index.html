<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Daily English ğŸ”Š â€” Day 4 (KETè¯æ±‡)</title>
<style>
  :root { --fg:#0f172a; --muted:#475569; --primary:#2563eb; }
  * { box-sizing: border-box; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, 'Helvetica Neue', sans-serif;
         color: var(--fg); max-width: 720px; margin: 0 auto; padding: 20px; background:#f8fafc; }
  header { display:flex; align-items:center; gap:12px; margin-bottom:16px; }
  header h1 { font-size: 20px; margin: 0; }
  .card { border:1px solid #e2e8f0; border-radius:14px; padding:20px; box-shadow: 0 2px 6px rgba(0,0,0,.04); background:#fff; }
  .word { font-size: 32px; font-weight: 700; letter-spacing:.2px; }
  .ipa { font-family: Arial, 'Helvetica Neue', sans-serif; color: var(--muted); margin-top:6px; }
  .cn { margin-top:6px; color: var(--muted); }
  .en { margin-top:12px; font-size: 18px; line-height:1.4; }
  .zh { margin-top:6px; color: var(--muted); }
  .controls { display:flex; flex-wrap: wrap; gap:10px; margin-top:16px; }
  button { padding:10px 14px; border-radius:10px; border:1px solid #cbd5e1; background:#fff; font-size:15px; cursor:pointer; }
  button.primary { background: var(--primary); color:#fff; border-color: var(--primary); }
  .muted { color: var(--muted); font-size: 13px; margin-top:8px; }
  .small { font-size:13px; color:var(--muted); }
</style>
</head>
<body>
<header>
  <img src="icon-180.png" width="36" height="36" alt="icon" style="border-radius:8px;border:1px solid #e2e8f0">
  <h1>Daily English ğŸ”Š â€” Day 4 (KETè¯æ±‡, 15 words)</h1>
</header>

<div class="card">
  <div class="word" id="w"></div>
  <div class="ipa" id="ipa"></div>
  <div class="cn" id="cn"></div>
  <div class="en" id="en"></div>
  <div class="zh" id="zh"></div>

  <div class="controls">
    <button id="playWordBtn">ğŸ”Š Word</button>
    <button id="playSentenceBtn">ğŸ”Š Sentence</button>
    <button id="toggleBtn">ğŸ‘ Hide/Show ä¸­æ–‡</button>
    <button class="primary" id="nextBtn">â¡ï¸ Next</button>
    <button id="shuffleBtn">ğŸ”€ Shuffle</button>
  </div>
  <div class="muted small">Tip: åœ¨æ‰‹æœºä¸Šæ‰“å¼€å¹¶å…è®¸ç½‘é¡µæ’­æ”¾å£°éŸ³ã€‚è‹¥å£°éŸ³ä¸è‡ªç„¶ï¼Œå¯ç”¨ç³»ç»Ÿè¯­éŸ³æˆ–å…¶å®ƒæµè§ˆå™¨ã€‚</div>
</div>

<script>
const data = [
  ["afternoon", "/ËŒÉ‘Ëf.tÉ™ËˆnuËn/", "ä¸‹åˆ", "I usually take a nap in the afternoon.", "æˆ‘é€šå¸¸ä¸‹åˆå°ç¡ä¸€ä¼šã€‚"],
  ["animal", "/ËˆÃ¦n.Éª.mÉ™l/", "åŠ¨ç‰©", "The elephant is my favourite animal.", "å¤§è±¡æ˜¯æˆ‘æœ€å–œæ¬¢çš„åŠ¨ç‰©ã€‚"],
  ["bank", "/bÃ¦Å‹k/", "é“¶è¡Œ", "My mother works in a bank.", "æˆ‘å¦ˆå¦ˆåœ¨é“¶è¡Œå·¥ä½œã€‚"],
  ["beach", "/biËtÊƒ/", "æµ·æ»©", "We walked along the beach at sunset.", "æˆ‘ä»¬åœ¨æ—¥è½æ—¶åˆ†æ²¿ç€æµ·æ»©æ•£æ­¥ã€‚"],
  ["clean", "/kliËn/", "æ‰“æ‰«ï¼›å¹²å‡€çš„", "Please clean your room before dinner.", "æ™šé¥­å‰è¯·æ‰“æ‰«ä½ çš„æˆ¿é—´ã€‚"],
  ["cold", "/kÉ™ÊŠld/", "å†·çš„ï¼›æ„Ÿå†’", "Itâ€™s very cold today, wear a coat.", "ä»Šå¤©å¾ˆå†·ï¼Œç©¿ä»¶å¤–å¥—ã€‚"],
  ["doctor", "/ËˆdÉ’k.tÉ™r/", "åŒ»ç”Ÿ", "The doctor told me to rest.", "åŒ»ç”Ÿè®©æˆ‘ä¼‘æ¯ã€‚"],
  ["dress", "/dres/", "è¿è¡£è£™ï¼›ç©¿è¡£æœ", "She wore a red dress to the party.", "å¥¹ç©¿ç€çº¢è‰²è¿è¡£è£™å»å‚åŠ èšä¼šã€‚"],
  ["evening", "/ËˆiËv.nÉªÅ‹/", "å‚æ™šï¼›æ™šä¸Š", "We often watch TV in the evening.", "æˆ‘ä»¬ç»å¸¸åœ¨æ™šä¸Šçœ‹ç”µè§†ã€‚"],
  ["garden", "/ËˆÉ¡É‘Ë.dÉ™n/", "èŠ±å›­", "There are many flowers in the garden.", "èŠ±å›­é‡Œæœ‰è®¸å¤šèŠ±ã€‚"],
  ["hospital", "/ËˆhÉ’s.pÉª.tÉ™l/", "åŒ»é™¢", "My uncle works at the hospital.", "æˆ‘å”å”åœ¨åŒ»é™¢å·¥ä½œã€‚"],
  ["meal", "/miËl/", "ä¸€é¤", "Breakfast is the most important meal of the day.", "æ—©é¤æ˜¯ä¸€å¤©ä¸­æœ€é‡è¦çš„ä¸€é¤ã€‚"],
  ["market", "/ËˆmÉ‘Ë.kÉªt/", "å¸‚åœº", "We buy vegetables at the market.", "æˆ‘ä»¬åœ¨å¸‚åœºä¹°èœã€‚"],
  ["rain", "/reÉªn/", "ä¸‹é›¨ï¼›é›¨", "It may rain this afternoon.", "ä»Šå¤©ä¸‹åˆå¯èƒ½ä¼šä¸‹é›¨ã€‚"],
  ["tired", "/ËˆtaÉªÉ™d/", "ç–²å€¦çš„", "I feel tired after running.", "è·‘æ­¥åæˆ‘è§‰å¾—å¾ˆç´¯ã€‚"]
];

let i = 0;
let voices = [];
let chosenVoice = null;

function $(id){ return document.getElementById(id); }
const w = $("w"), ipa = $("ipa"), cn = $("cn"), en = $("en"), zh = $("zh");
const playWordBtn = $("playWordBtn"), playSentenceBtn = $("playSentenceBtn"), toggleBtn = $("toggleBtn");
const nextBtn = $("nextBtn"), shuffleBtn = $("shuffleBtn");

function load(){
  const d = data[i];
  w.textContent = d[0];
  ipa.textContent = d[1];
  cn.textContent = d[2];
  en.textContent = d[3];
  zh.textContent = d[4];
}

function next(){
  i = (i + 1) % data.length;
  load();
}

function shuffle(){
  for (let j=data.length-1; j>0; j--) {
    const k = Math.floor(Math.random() * (j+1));
    [data[j], data[k]] = [data[k], data[j]];
  }
  i = 0; load();
}

function toggle(){
  const hide = cn.style.display === "none";
  cn.style.display = hide ? "" : "none";
  zh.style.display = hide ? "" : "none";
}

function setVoice(){
  voices = speechSynthesis.getVoices();
  // try to pick an en-US female-like voice
  chosenVoice = voices.find(v => v.lang.startsWith("en") && /female|woman|Samantha|Joanna|Allison/i.test(v.name)) || voices.find(v => v.lang.startsWith("en")) || null;
}
speechSynthesis.onvoiceschanged = setVoice;

function speakText(text){
  return new Promise((res)=>{
    try{
      const u = new SpeechSynthesisUtterance(text);
      if(chosenVoice) u.voice = chosenVoice;
      u.rate = 0.95;
      u.onend = res;
      speechSynthesis.speak(u);
    }catch(e){ console.error(e); res(); }
  });
}

playWordBtn.addEventListener('click', ()=> speakText(w.textContent));
playSentenceBtn.addEventListener('click', ()=> speakText(en.textContent));
nextBtn.addEventListener('click', next);
shuffleBtn.addEventListener('click', shuffle);
toggleBtn.addEventListener('click', toggle);

load();
</script>
</body>
</html>
